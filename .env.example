# ===================================================================
# wg-singbox-gateway - Environment Configuration
# ===================================================================
# This file contains all environment variables for configuring
# the container. Copy to .env and fill in your values.
# ===================================================================

# -------------------------------------------------------------------
# WireGuard Settings
# -------------------------------------------------------------------

# Server private key (generate with: wg genkey)
WG_PRIVATE_KEY=your_server_private_key_here

# Server public key (generate with: wg genkey | tee private.key | wg pubkey)
WG_PUBLIC_KEY=your_server_public_key_here

# WireGuard listen port (default: 51820)
#WG_LISTEN_PORT=51820

# Server VPN address (default: 10.0.0.1/24)
#WG_ADDRESS=10.0.0.1/24

# MTU size (default: 1280)
#WG_MTU=1280

# Custom PostUp/PostDown scripts
# Default redirects all traffic to sing-box via port 2080
#WG_POST_UP=iptables -t nat -A PREROUTING -i wg0 -j REDIRECT --to-ports 2080
#WG_POST_DOWN=iptables -t nat -D PREROUTING -i wg0 -j REDIRECT --to-ports 2080

# -------------------------------------------------------------------
# Keenetic Router (Peer 1)
# -------------------------------------------------------------------

# Keenetic's public key (generate client keys: wg genkey | tee client1_private.key | wg pubkey)
KEENETIC_PUBLIC_KEY=keenetic_public_key_here

# Pre-shared key for additional security (generate: wg genpsk)
KEENETIC_PRESHARED_KEY=preshared_key_here

# Allowed IPs for Keenetic (default: 10.0.0.2/32)
#KEENETIC_ALLOWED_IPS=10.0.0.2/32

# -------------------------------------------------------------------
# Additional Peers (Optional)
# -------------------------------------------------------------------

# Peer 2 (e.g., phone, another device)
#PEER2_PUBLIC_KEY=peer2_public_key_here
#PEER2_PRESHARED_KEY=peer2_preshared_key_here
#PEER2_ALLOWED_IPS=10.0.0.3/32

# Peer 3
#PEER3_PUBLIC_KEY=peer3_public_key_here
#PEER3_PRESHARED_KEY=peer3_preshared_key_here
#PEER3_ALLOWED_IPS=10.0.0.4/32

# -------------------------------------------------------------------
# Proxy Settings (Trojan / VLESS / VMess / Shadowsocks)
# -------------------------------------------------------------------

# Proxy type: trojan, vless, vmess, shadowsocks
PROXY_TYPE=trojan

# Proxy server address
PROXY_SERVER=your-proxy-server.com

# Proxy server port (default: 443 for trojan/vless/vmess, 8388 for shadowsocks)
#PROXY_PORT=443

# Password for Trojan / Shadowsocks
PROXY_PASSWORD=your_proxy_password_here

# UUID for VLESS / VMess
#PROXY_UUID=your-uuid-here

# SNI / Server name for TLS (defaults to PROXY_SERVER)
#PROXY_SERVER_NAME=your-proxy-server.com

# Accept self-signed certificates (default: false)
#PROXY_INSECURE=false

# Network type: tcp, ws (websocket), grpc
#PROXY_NETWORK=tcp

# Flow for VLESS (XTLS variants): xtls-rprx-vision, etc.
#PROXY_FLOW=

# Alter ID for VMess (default: 0)
#PROXY_ALTER_ID=0

# Security for VMess: auto, aes-128-gcm, chacha20-poly1305, none
#PROXY_SECURITY=auto

# Method for Shadowsocks: aes-256-gcm, chacha20-ietf-poly1305, etc.
#PROXY_METHOD=aes-256-gcm

# -------------------------------------------------------------------
# Proxy Rules (Whitelist)
# -------------------------------------------------------------------

# Domains to route through proxy (JSON array format)
# Empty array = no domains via proxy, all direct
PROXY_DOMAINS=["telegram.org","*.twitter.com","*.youtube.com","*.x.com","*.instagram.com","*.facebook.com"]

# IP addresses/CIDR to route through proxy (JSON array format)
# Example: ["149.154.0.0/16"] for Telegram IPs
#PROXY_IPS=["149.154.0.0/16"]

# Geosite categories (requires rule-set download)
# Available: category-social, category-porn, category-ads, cn, etc.
PROXY_GEOSITE=["category-social"]

# Geosite file name for rule-set
#PROXY_GEOSITE_FILE=geosite-category-social

# -------------------------------------------------------------------
# sing-box Settings
# -------------------------------------------------------------------

# Log level: trace, debug, info, warn, error, fatal, panic
#SINGBOX_LOG_LEVEL=info

# -------------------------------------------------------------------
# Example Configurations
# -------------------------------------------------------------------

# === Trojan Example ===
# PROXY_TYPE=trojan
# PROXY_SERVER=example.com
# PROXY_PORT=443
# PROXY_PASSWORD=password123

# === VLESS Example ===
# PROXY_TYPE=vless
# PROXY_SERVER=example.com
# PROXY_PORT=443
# PROXY_UUID=xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx
# PROXY_FLOW=xtls-rprx-vision

# === VMess Example ===
# PROXY_TYPE=vmess
# PROXY_SERVER=example.com
# PROXY_PORT=443
# PROXY_UUID=xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx

# === Shadowsocks Example ===
# PROXY_TYPE=shadowsocks
# PROXY_SERVER=example.com
# PROXY_PORT=8388
# PROXY_PASSWORD=password123
# PROXY_METHOD=aes-256-gcm
